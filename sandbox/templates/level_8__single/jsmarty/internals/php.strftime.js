function strftime(C,w){var k,q,r,I=C.split("");var H=(w)?new Date(w):new Date();for(k=0,r=C.length;k<=r;k++){if(I[k]=="%"){I[k++]="";switch(I[k]){case "a":I[k]=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][H.getDay()];break;case "A":I[k]=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][H.getDay()];break;case "h":case "b":I[k]=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][H.getMonth()];break;case "B":I[k]=["January","February","March","April","May","June","July","August","September","October","November","December"][H.getMonth()];break;case "c":I[k]=strftime("%m/%d/%y %H:%M:%S",H.getTime());break;case "C":I[k]=Math.floor(H.getFullYear()/100);break;case "d":q=H.getDate();I[k]=(q<10)?"0"+q:q;break;case "D":I[k]=strftime("%m/%d/%y",H.getTime());break;case "e":q=H.getMonth();I[k]=(q<10)?" "+q:q;break;case "g":I[k]="";break;case "G":I[k]="";break;case "H":q=H.getHours();I[k]=(q<10)?"0"+q:q;break;case "I":q=H.getHours();if(q==0){q=24;}if(12<q){q-=12;}I[k]=(q<10)?"0"+q:q;break;case "j":q=Math.ceil((H.getTime()-new Date(H.getFullYear(),0,1).getTime())/86400000);I[k]=(q<100)?(q<10)?"00"+q:"0"+q:q;break;case "m":q=H.getMonth()+1;I[k]=(q<10)?"0"+q:q;break;case "M":I[k]=H.getMinutes();break;case "n":I[k]="\n";break;case "p":q=H.getHours();I[k]=(q<12)?"AM":"PM";break;case "r":q=H.getHours();I[k]=(q<12)?q:q-12;break;case "R":I[k]=H.getHours();break;case "S":I[k]=H.getSeconds();break;case "t":I[k]="\t";break;case "T":I[k]=strftime("%H:%M:%S",H.getTime());break;case "u":q=H.getDay();I[k]=(q==0)?7:q;break;case "U":q=(H.getTime()-new Date(H.getFullYear(),0,1).getTime());I[k]=Math.ceil(q/604800000);break;case "V":I[k]="";break;case "W":q=(H.getTime()-new Date(H.getFullYear(),0,1).getTime());I[k]=Math.floor(q/604800000);break;case "w":I[k]=H.getDay();break;case "x":q=H.toLocaleString();I[k]=q.slice(0,q.indexOf(" "));break;case "X":q=H.toLocaleString();I[k]=q.slice(q.indexOf(" "));break;case "y":I[k]=H.getFullYear().toString().slice(-2);break;case "Y":I[k]=H.getFullYear();break;case "Z":I[k]="";break;case "%":I[k]="%";break;default:I[k]="";break;}}}return I.join("");}