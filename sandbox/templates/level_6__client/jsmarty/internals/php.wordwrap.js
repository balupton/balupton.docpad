function wordwrap(F,I,O,V){I=I||75;O=O||"\n";F=F.replace(/\r?\n/g," ");var s,D=F.split(" ");var q,H,C=0,d=0,r=0,w=[];var j=RegExp(".{"+I+"}","g");for(q=0,H=D.length;q<H;q++){r+=D[q].length||1;if(I<=r){r=0;if(V){s=D.slice(d,q+1).join(" ");w[C++]=s.match(j).join(O)+O+s.slice(-(s.length%I));d=q+1,q++;continue;}w[C++]=D.slice(d,q).join(" "),d=q;}}w[C++]=D.slice(d,H).join(" ");return w.join(O);}